(function(){"use strict";var e={7750:function(e,t,s){var l=s(5130),r=s(6768);const i={id:"app"};function o(e,t,s,l,o,a){const n=(0,r.g2)("FileUpload");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(n)])}var a=s(4232);const n={class:"container mx-auto p-4 max-w-7xl"},c={class:"mb-8 bg-white rounded-xl shadow-sm p-6 border border-gray-200"},d={class:"overflow-x-auto"},u={class:"min-w-full divide-y divide-gray-200"},p={class:"bg-white divide-y divide-gray-200"},g={class:"hover:bg-gray-50 transition-colors"},m={class:"px-6 py-4 whitespace-nowrap"},h={class:"hover:bg-gray-50 transition-colors"},f={class:"px-6 py-4 whitespace-nowrap"},x={class:"hover:bg-gray-50 transition-colors"},v={class:"px-6 py-4 whitespace-nowrap"},k={class:"hover:bg-gray-50 transition-colors"},y={class:"px-6 py-4 whitespace-nowrap"},w={class:"hover:bg-gray-50 transition-colors"},b={class:"px-6 py-4 whitespace-nowrap"},L={class:"flex flex-col items-center justify-center w-full"},M={key:0,class:"w-full h-full flex items-center justify-center p-4"},I=["src"],C={key:1,class:"flex flex-col items-center justify-center p-6 text-center"},F={key:0,class:"w-full mt-4 p-4 bg-white border border-gray-200 rounded-lg shadow-xs transition-all"},D={class:"space-y-4"},A={class:"flex items-center justify-between gap-3"},j={class:"flex items-center gap-3 min-w-0"},E={class:"flex-shrink-0 p-2 bg-blue-50 rounded-lg text-blue-500"},U={class:"min-w-0"},X={class:"text-sm font-medium text-gray-800 truncate"},O={class:"text-xs text-gray-500"},P={class:"text-xs text-gray-500 mt-1"},B={class:"text-xs text-gray-500 mt-1"},z={class:"mt-4 flex justify-end"},S=["disabled"],N={key:1,class:"w-full mt-4"},G={class:"flex items-center justify-between mb-1"},R={class:"text-xs font-medium text-blue-600"},W={class:"text-xs text-gray-500"},T={class:"w-full bg-gray-200 rounded-full h-2"},V={class:"mb-8 bg-white rounded-xl shadow-sm p-6 border border-gray-200"},_={class:"space-y-3"},H={class:"border border-gray-200 rounded-lg overflow-hidden"},J={class:"px-4 pb-4 text-sm text-gray-600"},Z={class:"border border-gray-200 rounded-lg overflow-hidden"},$={class:"px-4 pb-4 text-sm text-gray-600"},Q={class:"border border-gray-200 rounded-lg overflow-hidden"},K={class:"px-4 pb-4 text-sm text-gray-600"},q={class:"border border-gray-200 rounded-lg overflow-hidden"},Y={class:"px-4 pb-4 text-sm text-gray-600"},ee={key:0},te={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},se={key:0,class:"h-56 bg-gray-100 overflow-hidden flex-shrink-0"},le=["src","alt"],re={key:1,class:"h-56 bg-gray-50 flex items-center justify-center flex-shrink-0"},ie={class:"p-4 bg-blue-50 rounded-full text-blue-500"},oe={class:"p-4 flex flex-col flex-grow"},ae={class:"flex items-start justify-between"},ne={class:"flex-1 min-w-0"},ce={class:"text-sm font-medium text-gray-900 truncate"},de={key:0,class:"mt-2 text-xs text-gray-600 h-24 overflow-y-auto description-scroll pr-2"},ue={class:"text-sm text-gray-500 mt-2"},pe={class:"text-xs text-gray-400 mt-1"},ge={class:"flex space-x-2"},me=["onClick"],he=["onClick"],fe={class:"mt-auto pt-3 flex space-x-3"},xe=["href"],ve=["onClick"],ke={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},ye={class:"bg-white rounded-xl shadow-lg w-full max-w-md"},we={class:"p-6"},be={class:"space-y-4"},Le={class:"text-xs text-gray-500 mt-1"},Me={class:"text-xs text-gray-500 mt-1"},Ie={class:"mt-6 flex justify-end space-x-3"};function Ce(e,t,s,i,o,Ce){return(0,r.uX)(),(0,r.CE)("div",n,[t[60]||(t[60]=(0,r.Lk)("div",{class:"text-center mb-8"},[(0,r.Lk)("h1",{class:"text-4xl font-bold text-gray-800 mb-2"},"FileLoader"),(0,r.Lk)("p",{class:"text-gray-600 text-lg"},"Загружайте, храните и обменивайтесь файлами любых форматов быстро и безопасно")],-1)),(0,r.Lk)("div",c,[t[34]||(t[34]=(0,r.Lk)("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Поддерживаемые форматы",-1)),(0,r.Lk)("div",d,[(0,r.Lk)("table",u,[t[33]||(t[33]=(0,r.Lk)("thead",{class:"bg-gray-50"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Тип файла"),(0,r.Lk)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Форматы"),(0,r.Lk)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Макс. размер"),(0,r.Lk)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Иконка")])],-1)),(0,r.Lk)("tbody",p,[(0,r.Lk)("tr",g,[t[18]||(t[18]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},"Изображения",-1)),t[19]||(t[19]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"JPG, PNG, GIF, WEBP, SVG",-1)),t[20]||(t[20]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"50 MB",-1)),(0,r.Lk)("td",m,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.ImageIcon),{class:"w-5 h-5 text-blue-500"}))])]),(0,r.Lk)("tr",h,[t[21]||(t[21]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},"Документы",-1)),t[22]||(t[22]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"PDF, DOCX, XLSX, PPTX, TXT",-1)),t[23]||(t[23]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"30 MB",-1)),(0,r.Lk)("td",f,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.FileIcon),{class:"w-5 h-5 text-blue-500"}))])]),(0,r.Lk)("tr",x,[t[24]||(t[24]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},"Видео",-1)),t[25]||(t[25]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"MP4, MOV, AVI, MKV",-1)),t[26]||(t[26]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"100 MB",-1)),(0,r.Lk)("td",v,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.VideoIcon),{class:"w-5 h-5 text-blue-500"}))])]),(0,r.Lk)("tr",k,[t[27]||(t[27]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},"Аудио",-1)),t[28]||(t[28]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"MP3, WAV, OGG",-1)),t[29]||(t[29]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"20 MB",-1)),(0,r.Lk)("td",y,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.AudioIcon),{class:"w-5 h-5 text-blue-500"}))])]),(0,r.Lk)("tr",w,[t[30]||(t[30]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},"Архивы",-1)),t[31]||(t[31]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"ZIP, RAR, 7Z, TAR.GZ",-1)),t[32]||(t[32]=(0,r.Lk)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"200 MB",-1)),(0,r.Lk)("td",b,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.ArchiveIcon),{class:"w-5 h-5 text-blue-500"}))])])])])])]),(0,r.Lk)("form",{onSubmit:t[7]||(t[7]=(0,l.D$)(((...e)=>Ce.uploadFile&&Ce.uploadFile(...e)),["prevent"])),class:"mb-8"},[(0,r.Lk)("div",L,[(0,r.Lk)("label",{for:"dropzone-file",class:(0,a.C4)(["flex flex-col items-center justify-center w-full h-64 border-2 border-dashed rounded-xl cursor-pointer transition-all",[o.dragOver?"border-blue-500 bg-blue-50/50":"border-gray-300 hover:border-gray-400 bg-gray-50",o.file?"h-32":"h-64"]]),onDragover:t[1]||(t[1]=(0,l.D$)(((...e)=>Ce.handleDragOver&&Ce.handleDragOver(...e)),["prevent"])),onDragleave:t[2]||(t[2]=(...e)=>Ce.handleDragLeave&&Ce.handleDragLeave(...e)),onDrop:t[3]||(t[3]=(0,l.D$)(((...e)=>Ce.handleDrop&&Ce.handleDrop(...e)),["prevent"]))},[o.previewUrl?((0,r.uX)(),(0,r.CE)("div",M,[(0,r.Lk)("img",{src:o.previewUrl,alt:"File preview",class:"max-w-full max-h-full object-contain rounded-lg"},null,8,I)])):((0,r.uX)(),(0,r.CE)("div",C,t[35]||(t[35]=[(0,r.Fv)('<svg class="w-10 h-10 mb-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg><p class="mb-1 text-sm text-gray-500"><span class="font-medium text-gray-600">Нажмите для загрузки</span> или перетащите файл </p><p class="text-xs text-gray-400">Поддерживаются файлы до 200MB</p>',3)]))),(0,r.Lk)("input",{id:"dropzone-file",type:"file",class:"hidden",onChange:t[0]||(t[0]=(...e)=>Ce.onFileChange&&Ce.onFileChange(...e))},null,32)],34),o.file?((0,r.uX)(),(0,r.CE)("div",F,[(0,r.Lk)("div",D,[(0,r.Lk)("div",A,[(0,r.Lk)("div",j,[(0,r.Lk)("div",E,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(Ce.fileIcon(o.file)),{class:"w-5 h-5"}))]),(0,r.Lk)("div",U,[(0,r.Lk)("p",X,(0,a.v_)(o.file.name),1),(0,r.Lk)("p",O,(0,a.v_)(Ce.formatFileSize(o.file.size)),1)])])]),(0,r.Lk)("div",null,[t[36]||(t[36]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Название файла",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.fileMeta.customName=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введите название файла",maxlength:"100"},null,512),[[l.Jo,o.fileMeta.customName]]),(0,r.Lk)("p",P,(0,a.v_)(o.fileMeta.customName.length)+"/100",1)]),(0,r.Lk)("div",null,[t[37]||(t[37]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Описание",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.fileMeta.description=e),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введите описание файла",maxlength:"500",onInput:t[6]||(t[6]=(...e)=>Ce.limitDescription&&Ce.limitDescription(...e))},null,544),[[l.Jo,o.fileMeta.description]]),(0,r.Lk)("p",B,(0,a.v_)(o.fileMeta.description.length)+"/500",1)])]),(0,r.Lk)("div",z,[(0,r.Lk)("button",{type:"submit",class:(0,a.C4)(["px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center justify-center",{"opacity-50 cursor-not-allowed":o.uploading}]),disabled:o.uploading},[o.uploading?((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[t[40]||(t[40]=(0,r.Lk)("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,r.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,r.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t[41]||(t[41]=(0,r.eW)(" Загрузка... "))],64)):((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[t[38]||(t[38]=(0,r.Lk)("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),t[39]||(t[39]=(0,r.eW)(" Загрузить "))],64))],10,S)])])):(0,r.Q3)("",!0),o.progress>0?((0,r.uX)(),(0,r.CE)("div",N,[(0,r.Lk)("div",G,[(0,r.Lk)("span",R,(0,a.v_)(o.progress)+"%",1),(0,r.Lk)("span",W,(0,a.v_)(Ce.formatFileSize(o.file.size*o.progress/100))+" из "+(0,a.v_)(Ce.formatFileSize(o.file.size)),1)]),(0,r.Lk)("div",T,[(0,r.Lk)("div",{class:"bg-blue-600 h-2 rounded-full progress-bar-transition",style:(0,a.Tr)({width:`${o.progress}%`})},null,4)])])):(0,r.Q3)("",!0)])],32),(0,r.Lk)("div",V,[t[54]||(t[54]=(0,r.Lk)("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"📚 Руководство пользователя",-1)),(0,r.Lk)("div",_,[(0,r.Lk)("div",H,[(0,r.Lk)("button",{onClick:t[8]||(t[8]=e=>Ce.toggleAccordion("upload")),class:"w-full flex justify-between items-center p-4 text-left hover:bg-gray-50 transition-colors"},[t[43]||(t[43]=(0,r.Lk)("span",{class:"font-medium text-gray-800"},"Как загрузить файл?",-1)),((0,r.uX)(),(0,r.CE)("svg",{class:(0,a.C4)(["w-5 h-5 text-gray-500 transform transition-transform",{"rotate-180":"upload"===o.activeAccordion}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[42]||(t[42]=[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),(0,r.bo)((0,r.Lk)("div",J,t[44]||(t[44]=[(0,r.Lk)("ol",{class:"list-decimal pl-5 space-y-2"},[(0,r.Lk)("li",null,"Нажмите на область загрузки или перетащите файл в выделенную зону"),(0,r.Lk)("li",null,"Дождитесь появления информации о файле"),(0,r.Lk)("li",null,"Укажите название и описание файла (необязательно)"),(0,r.Lk)("li",null,'Нажмите кнопку "Загрузить"'),(0,r.Lk)("li",null,"Дождитесь завершения загрузки")],-1)]),512),[[l.aG,"upload"===o.activeAccordion]])]),(0,r.Lk)("div",Z,[(0,r.Lk)("button",{onClick:t[9]||(t[9]=e=>Ce.toggleAccordion("manage")),class:"w-full flex justify-between items-center p-4 text-left hover:bg-gray-50 transition-colors"},[t[46]||(t[46]=(0,r.Lk)("span",{class:"font-medium text-gray-800"},"Управление файлами",-1)),((0,r.uX)(),(0,r.CE)("svg",{class:(0,a.C4)(["w-5 h-5 text-gray-500 transform transition-transform",{"rotate-180":"manage"===o.activeAccordion}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[45]||(t[45]=[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),(0,r.bo)((0,r.Lk)("div",$,t[47]||(t[47]=[(0,r.Fv)('<ul class="list-disc pl-5 space-y-2"><li><span class="font-medium">Редактирование:</span> Нажмите на иконку карандаша чтобы изменить название и описание</li><li><span class="font-medium">Копирование ссылки:</span> Нажмите на иконку копирования чтобы получить ссылку на файл</li><li><span class="font-medium">Скачивание:</span> Нажмите кнопку &quot;Скачать&quot; для загрузки файла</li><li><span class="font-medium">Удаление:</span> Нажмите кнопку &quot;Удалить&quot; чтобы убрать файл из списка</li></ul>',1)]),512),[[l.aG,"manage"===o.activeAccordion]])]),(0,r.Lk)("div",Q,[(0,r.Lk)("button",{onClick:t[10]||(t[10]=e=>Ce.toggleAccordion("formats")),class:"w-full flex justify-between items-center p-4 text-left hover:bg-gray-50 transition-colors"},[t[49]||(t[49]=(0,r.Lk)("span",{class:"font-medium text-gray-800"},"Поддерживаемые форматы",-1)),((0,r.uX)(),(0,r.CE)("svg",{class:(0,a.C4)(["w-5 h-5 text-gray-500 transform transition-transform",{"rotate-180":"formats"===o.activeAccordion}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[48]||(t[48]=[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),(0,r.bo)((0,r.Lk)("div",K,t[50]||(t[50]=[(0,r.Fv)('<div class="grid grid-cols-2 gap-2"><div><p class="font-medium">Изображения:</p><p class="text-gray-500">JPG, PNG, GIF, WEBP, SVG</p></div><div><p class="font-medium">Документы:</p><p class="text-gray-500">PDF, DOCX, XLSX, PPTX, TXT</p></div><div><p class="font-medium">Видео:</p><p class="text-gray-500">MP4, MOV, AVI, MKV</p></div><div><p class="font-medium">Аудио:</p><p class="text-gray-500">MP3, WAV, OGG</p></div><div><p class="font-medium">Архивы:</p><p class="text-gray-500">ZIP, RAR, 7Z, TAR.GZ</p></div></div>',1)]),512),[[l.aG,"formats"===o.activeAccordion]])]),(0,r.Lk)("div",q,[(0,r.Lk)("button",{onClick:t[11]||(t[11]=e=>Ce.toggleAccordion("limits")),class:"w-full flex justify-between items-center p-4 text-left hover:bg-gray-50 transition-colors"},[t[52]||(t[52]=(0,r.Lk)("span",{class:"font-medium text-gray-800"},"Ограничения",-1)),((0,r.uX)(),(0,r.CE)("svg",{class:(0,a.C4)(["w-5 h-5 text-gray-500 transform transition-transform",{"rotate-180":"limits"===o.activeAccordion}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[51]||(t[51]=[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),(0,r.bo)((0,r.Lk)("div",Y,t[53]||(t[53]=[(0,r.Lk)("ul",{class:"list-disc pl-5 space-y-2"},[(0,r.Lk)("li",null,[(0,r.eW)("Максимальный размер файла: "),(0,r.Lk)("span",{class:"font-medium"},"200 MB")]),(0,r.Lk)("li",null,[(0,r.eW)("Максимальная длина названия: "),(0,r.Lk)("span",{class:"font-medium"},"100 символов")]),(0,r.Lk)("li",null,[(0,r.eW)("Максимальная длина описания: "),(0,r.Lk)("span",{class:"font-medium"},"500 символов")]),(0,r.Lk)("li",null,"Файлы хранятся только в вашем браузере (localStorage)")],-1)]),512),[[l.aG,"limits"===o.activeAccordion]])])])]),o.uploadedFiles.length>0?((0,r.uX)(),(0,r.CE)("div",ee,[(0,r.Lk)("div",te,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.uploadedFiles,((e,s)=>((0,r.uX)(),(0,r.CE)("div",{key:s,class:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden flex flex-col",style:{"min-height":"420px"}},[Ce.isImage(e)?((0,r.uX)(),(0,r.CE)("div",se,[(0,r.Lk)("img",{src:e.url,alt:e.name,class:"w-full h-full object-cover transition-transform hover:scale-105",onError:t[12]||(t[12]=(...e)=>Ce.handleImageError&&Ce.handleImageError(...e))},null,40,le)])):((0,r.uX)(),(0,r.CE)("div",re,[(0,r.Lk)("div",ie,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(Ce.fileIcon(e)),{class:"w-12 h-12"}))])])),(0,r.Lk)("div",oe,[(0,r.Lk)("div",ae,[(0,r.Lk)("div",ne,[(0,r.Lk)("p",ce,(0,a.v_)(e.customName||e.name),1),e.description?((0,r.uX)(),(0,r.CE)("div",de,(0,a.v_)(e.description),1)):(0,r.Q3)("",!0),(0,r.Lk)("p",ue,(0,a.v_)(Ce.formatFileSize(e.size)),1),(0,r.Lk)("p",pe,(0,a.v_)(Ce.formatDate(e.uploadedAt)),1)]),(0,r.Lk)("div",ge,[(0,r.Lk)("button",{onClick:e=>Ce.editFile(s),class:"text-gray-400 hover:text-gray-600",title:"Редактировать"},t[55]||(t[55]=[(0,r.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,me),(0,r.Lk)("button",{onClick:t=>Ce.copyLink(e.url),class:"text-gray-400 hover:text-gray-600",title:"Копировать ссылку"},t[56]||(t[56]=[(0,r.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})],-1)]),8,he)])]),(0,r.Lk)("div",fe,[(0,r.Lk)("a",{href:e.url,target:"_blank",class:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 text-sm font-medium rounded text-center"}," Скачать ",8,xe),(0,r.Lk)("button",{onClick:e=>Ce.deleteFile(s),class:"flex-1 px-3 py-2 bg-red-50 text-red-600 hover:bg-red-100 text-sm font-medium rounded"}," Удалить ",8,ve)])])])))),128))])])):(0,r.Q3)("",!0),null!==o.editingFile?((0,r.uX)(),(0,r.CE)("div",ke,[(0,r.Lk)("div",ye,[(0,r.Lk)("div",we,[t[59]||(t[59]=(0,r.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Редактирование файла",-1)),(0,r.Lk)("div",be,[(0,r.Lk)("div",null,[t[57]||(t[57]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Название",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>o.editingData.customName=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введите название файла",maxlength:"100"},null,512),[[l.Jo,o.editingData.customName]]),(0,r.Lk)("p",Le,(0,a.v_)(o.editingData.customName.length)+"/100",1)]),(0,r.Lk)("div",null,[t[58]||(t[58]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Описание",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>o.editingData.description=e),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введите описание файла",maxlength:"500",onInput:t[15]||(t[15]=(...e)=>Ce.limitDescription&&Ce.limitDescription(...e))},null,544),[[l.Jo,o.editingData.description]]),(0,r.Lk)("p",Me,(0,a.v_)(o.editingData.description.length)+"/500",1)])]),(0,r.Lk)("div",Ie,[(0,r.Lk)("button",{onClick:t[16]||(t[16]=e=>o.editingFile=null),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md"}," Отмена "),(0,r.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>Ce.saveFileEdit&&Ce.saveFileEdit(...e)),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md"}," Сохранить ")])])])])):(0,r.Q3)("",!0)])}s(8111),s(7588),s(1701),s(4603),s(7566),s(8721);const Fe={template:'\n    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>\n    </svg>\n  '},De={template:'\n    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n    </svg>\n  '},Ae={template:'\n    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>\n    </svg>\n  '},je={template:'\n    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"/>\n    </svg>\n  '},Ee={template:'\n    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/>\n    </svg>\n  '};var Ue={components:{FileIcon:Fe,ImageIcon:De,VideoIcon:Ae,AudioIcon:je,ArchiveIcon:Ee},data(){return{file:null,previewUrl:null,progress:0,uploading:!1,uploadedFiles:[],dragOver:!1,editingFile:null,activeAccordion:null,editingData:{customName:"",description:""},fileMeta:{customName:"",description:""}}},created(){const e=JSON.parse(localStorage.getItem("uploadedFiles"))||[];this.uploadedFiles=e.map((e=>({...e,uploadedAt:new Date(e.uploadedAt)})))},methods:{toggleAccordion(e){this.activeAccordion=this.activeAccordion===e?null:e},onFileChange(e){const t=e.target.files[0];t&&(this.file=t,this.generatePreview(t))},handleDragOver(){this.dragOver=!0},handleDragLeave(){this.dragOver=!1},handleDrop(e){this.dragOver=!1;const t=e.dataTransfer.files;t.length>0&&(this.file=t[0],this.generatePreview(t[0]))},generatePreview(e){this.previewUrl&&URL.revokeObjectURL(this.previewUrl),e&&this.isImage(e)?this.previewUrl=URL.createObjectURL(e):this.previewUrl=null},fileIcon(e){if(!e)return Fe;if(e.type){if(e.type.startsWith("image/"))return De;if(e.type.startsWith("video/"))return Ae;if(e.type.startsWith("audio/"))return je;if(e.type.includes("zip")||e.type.includes("compressed"))return Ee}if(e.name){const t=e.name.split(".").pop().toLowerCase(),s=["jpg","jpeg","png","gif","webp","svg"],l=["mp4","mov","avi","mkv"],r=["mp3","wav","ogg"],i=["zip","rar","7z","tar","gz"];if(s.includes(t))return De;if(l.includes(t))return Ae;if(r.includes(t))return je;if(i.includes(t))return Ee}return Fe},isImage(e){if(!e)return!1;if(e.type)return e.type.startsWith("image/");if(e.name){const t=e.name.split(".").pop().toLowerCase(),s=["jpg","jpeg","png","gif","webp","svg"];return s.includes(t)}return!1},formatFileSize(e){if(0===e)return"0 Bytes";const t=1024,s=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,l)).toFixed(2))+" "+s[l]},formatDate(e){if(!e)return"";const t={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(e).toLocaleDateString("ru-RU",t)},handleImageError(e){e.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zIDlhMiAyIDAgMCAxIDItMmgxNGEyIDIgMCAwIDEgMiAydjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWIjl6Ij48L3BhdGg+PHBhdGggZD0iTTE1IDEzLjVhMS41IDEuNSAwIDEtMyAwIDEuNSAxLjUgMCAwMTMgMHoiPjwvcGF0aD48cGF0aCBkPSJNMTIgMTJhMyAzIDAgMTAwLTYgMyAzIDAgMDAwIDZ6Ij48L3BhdGg+PC9zdmc+"},async uploadFile(){if(!this.file||this.uploading)return;this.uploading=!0,this.progress=0;const e=()=>new Promise((e=>{const t=setInterval((()=>{this.progress<90?this.progress+=10:(clearInterval(t),e())}),300)}));try{await e();const t=new FormData;t.append("file",this.file);const s=new XMLHttpRequest;s.upload.addEventListener("progress",(e=>{e.lengthComputable&&(this.progress=90+Math.round(e.loaded/e.total*10))}));const l=await new Promise(((e,l)=>{s.onreadystatechange=()=>{4===s.readyState&&(200===s.status?e(JSON.parse(s.responseText)):l(new Error("Ошибка загрузки")))},s.open("POST","http://localhost:3000/upload",!0),s.send(t)}));this.progress=100,this.uploadedFiles.unshift({name:this.file.name,size:this.file.size,url:l.fileUrl,type:this.file.type,customName:this.fileMeta.customName,description:this.fileMeta.description,uploadedAt:new Date}),localStorage.setItem("uploadedFiles",JSON.stringify(this.uploadedFiles)),await new Promise((e=>setTimeout(e,500))),this.file=null,this.previewUrl=null,this.fileMeta={customName:"",description:""},this.progress=0}catch(t){console.error("Upload error:",t),alert("Ошибка при загрузке файла"),this.progress=0}finally{this.uploading=!1,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}},deleteFile(e){const t=this.uploadedFiles[e];t.url&&t.url.startsWith("blob:")&&URL.revokeObjectURL(t.url),this.uploadedFiles.splice(e,1),localStorage.setItem("uploadedFiles",JSON.stringify(this.uploadedFiles))},clearAllFiles(){confirm("Вы уверены, что хотите удалить все файлы?")&&(this.uploadedFiles.forEach((e=>{e.url&&e.url.startsWith("blob:")&&URL.revokeObjectURL(e.url)})),this.uploadedFiles=[],localStorage.removeItem("uploadedFiles"))},copyLink(e){navigator.clipboard.writeText(e).then((()=>{alert("Ссылка скопирована в буфер обмена")})).catch((e=>{console.error("Failed to copy: ",e)}))},editFile(e){this.editingFile=e,this.editingData={customName:this.uploadedFiles[e].customName||"",description:this.uploadedFiles[e].description||""}},saveFileEdit(){null!==this.editingFile&&(this.uploadedFiles[this.editingFile]={...this.uploadedFiles[this.editingFile],customName:this.editingData.customName,description:this.editingData.description},localStorage.setItem("uploadedFiles",JSON.stringify(this.uploadedFiles)),this.editingFile=null)},limitDescription(){this.editingData.description.length>500&&(this.editingData.description=this.editingData.description.substring(0,500))}},beforeUnmount(){this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.uploadedFiles.forEach((e=>{e.url&&e.url.startsWith("blob:")&&URL.revokeObjectURL(e.url)}))}},Xe=s(1241);const Oe=(0,Xe.A)(Ue,[["render",Ce]]);var Pe=Oe,Be={name:"App",components:{FileUpload:Pe}};const ze=(0,Xe.A)(Be,[["render",o]]);var Se=ze;(0,l.Ef)(Se).mount("#app")}},t={};function s(l){var r=t[l];if(void 0!==r)return r.exports;var i=t[l]={exports:{}};return e[l].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,l,r,i){if(!l){var o=1/0;for(d=0;d<e.length;d++){l=e[d][0],r=e[d][1],i=e[d][2];for(var a=!0,n=0;n<l.length;n++)(!1&i||o>=i)&&Object.keys(s.O).every((function(e){return s.O[e](l[n])}))?l.splice(n--,1):(a=!1,i<o&&(o=i));if(a){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[l,r,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,i,o=l[0],a=l[1],n=l[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(n)var d=n(s)}for(t&&t(l);c<o.length;c++)i=o[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},l=self["webpackChunkfile_upload_project"]=self["webpackChunkfile_upload_project"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=s.O(void 0,[504],(function(){return s(7750)}));l=s.O(l)})();
//# sourceMappingURL=app.f6c46414.js.map